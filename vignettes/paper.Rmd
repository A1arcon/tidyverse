---
title: 'Tidyverse: An opionated collection of R packages designed for data science'
output: github_document
tags:
- data science
authors:
- name: Hadley Wickham
  orcid: 0000-0000-0000-0000
  affiliation: 1

affiliations:
 - name: RStudio
   index: 1
date: 25 April 2018
bibliography: paper.bib
---

# Introduction

```{r, include = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
```

```{r, eval = FALSE, include = FALSE}
# authors taken from tidyverse organisation members
org <- gh::gh("GET /orgs/:org/members", org = "tidyverse")
org %>% purrr::map_chr("login") %>% clipr::write_clip()
# author list at https://docs.google.com/spreadsheets/d/1nXW6V5b6UkTjXBbzYvSCgKrF6cfUEyUdtHup88qD5h4/edit#gid=0
```

```{r, eval = FALSE, echo = FALSE}
knitr::include_graphics("man/figures/logo.png")
```

The tidyverse is an opinionated collection of R packages designed to help you do exploratory data analysis for data science. All packages share an underlying design philosophy, grammar, and data structures. The goal is to create packages in such a way that learning one package makes it easier to learn the next.

The scope of the tidyverse roughly covers the repeated tasks at the heart of every data science project: get your data into R, get it into a convenient form, and then provide flexible tools for data manipuation and visualisation. While critical for good data analysis, more deep statistical modelling and communication fall outside of the scope of the tidyverse. We also expect that most projects will use multiple packages outside of the tidyverse: the goal is to provide tooling for the most common challenges, not solve every possible problem.

This paper documents the tidyverse package which provides a convenient way of downloading all tidyverse packages with a single R command:

```{r, eval = FALSE}
install.packages("tidyverse")
```

<!-- HW: define core and non-core here -->

This paper describes the model of data science used by the tidyverse and the packages that support that model. We also touch on some of the underlying philosophy.

# Components

<!-- reference to R4DS -->

```{r eval = FALSE, echo = FALSE}
knitr::include_graphics("vignettes/data-science.png")
```

First you must __import__ your data into R. This typically means that you take data stored in a file, database, or web API, and load it into a data frame in R. If you can't get your data into R, you can't do data science on it! Data import is supported by the core [readr](https://readr.tidyverse.org/) [@R-readr] package for flat files (like csv, tsv, and fwf). Additional non-core packages like [readxl](https://readxl.tidyverse.org) [@R-readxl] and [haven](https://haven.tidyverse.org) [@R-haven] support other types of data.

<!-- HW: can you rewrite the following paragraphs following the template above, and hence eliminate the core and non-core sections? I've deleted the non-core packages that I don't think we need to explicitly mention -->

Once you've imported your data, it is a good idea to __tidy__ it. Tidying your data means storing it in a consistent form that matches the semantics of the dataset with the way it is stored. In brief, when your data is tidy, each column is a variable, and each row is an observation. Tidy data is important because the consistent structure lets you focus your struggle on questions about the data, not fighting to get the data into the right form for different functions.

Once you have tidy data, a common first step is to __transform__ it. Transformation includes narrowing in on observations of interest (like all people in one city, or all data from the last year), creating new variables that are functions of existing variables (like computing velocity from speed and time), and calculating a set of summary statistics (like counts or means). Together, tidying and transforming are called __wrangling__, because getting your data in a form that's natural to work with often feels like a fight!

Once you have tidy data with the variables you need, there are two main engines of knowledge generation: visualisation and modelling. These have complementary strengths and weaknesses, so any real analysis will iterate between them many times.

__Visualisation__ is a fundamentally human activity. A good visualisation will show you things that you did not expect, or raise new questions about the data. A good visualisation might also hint that you're asking the wrong question, or you need to collect different data. Visualisations can surprise you, but don't scale particularly well because they require a human to interpret them.

__Modelling__ and __communication__ are extremely important parts of data science, but are sufficiently large and complex that they are outside the scope of the tidyverse. 

<!-- Briefly mention shiny & Rmarkdown. Then many modelling packages in R tidy models effort -->

Surrounding all these tools is __programming__. Programming is a cross-cutting tool that you use in every part of the project. You don't need to be an expert programmer to be a data scientist, but learning more about programming pays off because becoming a better programmer allows you to automate common tasks, and solve new problems with greater ease.

# Core packages

The core tidyverse includes the packages that you're likely to use in everyday data analyses. As of tidyverse 1.2.0, the following packages are included in the core tidyverse:

```{r, warning = FALSE, message = FALSE}
library(tidyverse)
```

The goal of the core tidyverse is to provide a set of tools that are you likely to use in almost every analysis. It includes:

* [ggplot2](https://ggplot2.tidyverse.org/) is a system for declaratively creating graphics, based on The Grammar of Graphics [@wilkinson2005]. You provide the data, tell ggplot2 how to map variables to aesthetics, what graphical primitives to use, and it takes care of the details [@ggplot2].

* [dplyr](https://dplyr.tidyverse.org/) provides a grammar of data manipulation, providing a consistent set of verbs that solve the most common data manipulation challenges [@R-dplyr].

* [tidyr](https://tidyr.tidyverse.org/) provides a set of functions that help you get to tidy data. Tidy data is data with a consistent form: in brief, every variable goes in a column, and every column is a variable [@R-tidyr].

* [purrr](https://purrr.tidyverse.org/) enhances R’s functional programming (FP) toolkit by providing a complete and consistent set of tools for working with functions and vectors. Once you master the basic concepts, purrr allows you to replace many for loops with code that is easier to write and more expressive [@R-purrr].

* [tibble](https://tibble.tidyverse.org/) is a modern re-imagining of the data frame, keeping what time has proven to be effective, and throwing out what it has not. Tibbles are data.frames that are lazy and surly: they do less and complain more forcing you to confront problems earlier, typically leading to cleaner, more expressive code [@R-tibble].

* [stringr](https://stringr.tidyverse.org/) provides a cohesive set of functions designed to make working with strings as easy as possible. It is built on top of stringi, which uses the ICU C library to provide fast, correct implementations of common string manipulations [@R-stringr].

* [forcats](https://forcats.tidyverse.org/) provides a suite of useful tools that solve common problems with factors. R uses factors to handle categorical variables, variables that have a fixed and known set of possible values [@R-forcats].

# Non-core packages

The tidyverse also includes many other packages with more specialised usage. They are not attached automatically with `library(tidyverse)`, so you’ll need to load each one with its own call to `library()`.

## Wrangle

In addition to [tidyr](https://tidyr.tidyverse.org), and [dplyr](https://dplyr.tidyverse.org), there are five packages (including [stringr](https://stringr.tidyverse.org) and [forcats](https://forcats.tidyverse.org)) which are designed to work with specific types of data:

* [lubridate](https://lubridate.tidyverse.org) for dates and date-times [@R-lubridate].

## Program

In addition to [purrr](https://purrr.tidyverse.org), which provides very consistent and natural methods for iterating on R objects, there are two tidyverse packages that help with general programming challenges:

* [magrittr](https://magrittr.tidyverse.org) provides the pipe, `%>%` used
  throughout the tidyverse. It also provide a number of more specialised
  piping operators (like `%$%` and `%<>%`) that can be useful in other places [@R-magrittr].

## Get help

<!-- Not sure where to mention this.  -->

Last, the [reprex](https://reprex.tidyverse.org/) package helps prepare reproducible examples for posting to GitHub issues, StackOverflow, or Slack snippets [@R-reprex].

# Philosophy

We are still working to explicitly describe the unifying principles that make the tidyverse so consistent, and you can read our latest thoughts at <https://principles.tidyverse.org/>. There are five underlying principles that are unlikely to change:

1.  Consistent.
    
    The tidyverse packages are all designed to work with "tidy" data
    frames.[@r4ds] In a tidy data frame: every variable is a column (and every
    column a variable); each row is an observation; and each value has its own
    cell.[@tidy-data]. Using a consistent data structure makes it easier to learn,
    and reason about the tools.
    
1.  Composable.

    <!-- something about the pipe -->

1.  Functional.

1.  Human centered.

1.  Inclusive

<!-- Can you take a stab at writing a paragraph for each of the points above? -->

# References


